Return-Path: <linux-pci+bounces-41587-lists+linux-pci=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-pci@lfdr.de
Delivered-To: lists+linux-pci@lfdr.de
Received: from sea.lore.kernel.org (sea.lore.kernel.org [IPv6:2600:3c0a:e001:db::12fc:5321])
	by mail.lfdr.de (Postfix) with ESMTPS id 7FA95C6D4B4
	for <lists+linux-pci@lfdr.de>; Wed, 19 Nov 2025 09:06:53 +0100 (CET)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sea.lore.kernel.org (Postfix) with ESMTPS id 3F8652C3C7
	for <lists+linux-pci@lfdr.de>; Wed, 19 Nov 2025 08:06:52 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 326A1326922;
	Wed, 19 Nov 2025 08:03:47 +0000 (UTC)
X-Original-To: linux-pci@vger.kernel.org
Received: from zg8tmja2lje4os4yms4ymjma.icoremail.net (zg8tmja2lje4os4yms4ymjma.icoremail.net [206.189.21.223])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 0C1DE2DC32E;
	Wed, 19 Nov 2025 08:03:41 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=206.189.21.223
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1763539426; cv=none; b=LYTPGvctAmhwftiJROrf/WoDUNC2AzKfplFOpeqtFm/gvfPPuSiPhr4WNH2naZu9f7PIUVReY/HJjo3LfNKzqPyWiJ8SyaL/pq53CAt8C4WkyKLl2N4f1haZyp4iXn95Po5Y1mAM44m9ulsxBMmeuoEk5t71g16weI/0aV5Y6HY=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1763539426; c=relaxed/simple;
	bh=e/H6vW41fo2bvHSftL/gRerCHI3QYwEuO4RpiZsYgD0=;
	h=Date:From:To:Cc:Subject:In-Reply-To:References:Content-Type:
	 MIME-Version:Message-ID; b=ALPhS0DT4BXi3/OvTS5QBlyd1iGrFDiUdEPTAu1kjyu6CVIC1t8WmlwKyF/1vLUMzNGCz7Hv5q3PKMct+/UntRrPMrctxV39gp4CCUw/JTj6gSertzKVWxHawO0bvrlAXIgMbsqJNjGZTFgGWnDazk57puUjc13lb5MEpVQu1ro=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=none (p=none dis=none) header.from=eswincomputing.com; spf=pass smtp.mailfrom=eswincomputing.com; arc=none smtp.client-ip=206.189.21.223
Authentication-Results: smtp.subspace.kernel.org; dmarc=none (p=none dis=none) header.from=eswincomputing.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=eswincomputing.com
Received: from zhangsenchuan$eswincomputing.com ( [10.12.96.83] ) by
 ajax-webmail-app2 (Coremail) ; Wed, 19 Nov 2025 16:03:22 +0800 (GMT+08:00)
Date: Wed, 19 Nov 2025 16:03:22 +0800 (GMT+08:00)
X-CM-HeaderCharset: UTF-8
From: zhangsenchuan <zhangsenchuan@eswincomputing.com>
To: "Manivannan Sadhasivam" <mani@kernel.org>
Cc: "Bjorn Helgaas" <helgaas@kernel.org>,
	"Manivannan Sadhasivam" <manivannan.sadhasivam@oss.qualcomm.com>,
	lpieralisi@kernel.org, kwilczynski@kernel.org, bhelgaas@google.com,
	will@kernel.org, linux-pci@vger.kernel.org,
	linux-kernel@vger.kernel.org, robh@kernel.org,
	linux-arm-msm@vger.kernel.org, vincent.guittot@linaro.org
Subject: Re: Re: [PATCH v2 2/3] PCI: qcom: Check for the presence of a
 device instead of Link up during suspend
X-Priority: 3
X-Mailer: Coremail Webmail Server Version 2024.2-cmXT6 build
 20241203(6b039d88) Copyright (c) 2002-2025 www.mailtech.cn
 mispb-72143050-eaf5-4703-89e0-86624513b4ce-eswincomputing.com
In-Reply-To: <qu3gnvl7t7ehpxhkchz6ragjoeafktwr4dtstattthfv3jezd7@zrfwrlr2vzx5>
References: <zgj3ubyb234ig6ndz6ov5q3szvuxnd3jkz2rjglbad4ksri6nl@ov7boxuar4va>
 <20251113172250.GA2291436@bhelgaas>
 <qu3gnvl7t7ehpxhkchz6ragjoeafktwr4dtstattthfv3jezd7@zrfwrlr2vzx5>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset=UTF-8
Precedence: bulk
X-Mailing-List: linux-pci@vger.kernel.org
List-Id: <linux-pci.vger.kernel.org>
List-Subscribe: <mailto:linux-pci+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-pci+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
Message-ID: <7b8d757a.542.19a9b23bda4.Coremail.zhangsenchuan@eswincomputing.com>
X-Coremail-Locale: en_US
X-CM-TRANSID:TQJkCgBnq67KeR1pz6h8AA--.2066W
X-CM-SenderInfo: x2kd0wpvhquxxxdqqvxvzl0uprps33xlqjhudrp/1tbiAQELBmkcn
	4IUUQABsh
X-Coremail-Antispam: 1Ur529EdanIXcx71UUUUU7IcSsGvfJ3iIAIbVAYjsxI4VWDJw
	CS07vEb4IE77IF4wCS07vE1I0E4x80FVAKz4kxMIAIbVAFxVCaYxvI4VCIwcAKzIAtYxBI
	daVFxhVjvjDU=

CgoKPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2VzLS0tLS0KPiBGcm9tOiAiTWFuaXZhbm5hbiBTYWRo
YXNpdmFtIiA8bWFuaUBrZXJuZWwub3JnPgo+IFNlbmQgdGltZTpUdWVzZGF5LCAxOC8xMS8yMDI1
IDAxOjM3OjAxCj4gVG86ICJCam9ybiBIZWxnYWFzIiA8aGVsZ2Fhc0BrZXJuZWwub3JnPgo+IENj
OiAiTWFuaXZhbm5hbiBTYWRoYXNpdmFtIiA8bWFuaXZhbm5hbi5zYWRoYXNpdmFtQG9zcy5xdWFs
Y29tbS5jb20+LCBscGllcmFsaXNpQGtlcm5lbC5vcmcsIGt3aWxjenluc2tpQGtlcm5lbC5vcmcs
IGJoZWxnYWFzQGdvb2dsZS5jb20sIHdpbGxAa2VybmVsLm9yZywgbGludXgtcGNpQHZnZXIua2Vy
bmVsLm9yZywgbGludXgta2VybmVsQHZnZXIua2VybmVsLm9yZywgcm9iaEBrZXJuZWwub3JnLCBs
aW51eC1hcm0tbXNtQHZnZXIua2VybmVsLm9yZywgemhhbmdzZW5jaHVhbkBlc3dpbmNvbXB1dGlu
Zy5jb20sIHZpbmNlbnQuZ3VpdHRvdEBsaW5hcm8ub3JnCj4gU3ViamVjdDogUmU6IFtQQVRDSCB2
MiAyLzNdIFBDSTogcWNvbTogQ2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiBhIGRldmljZSBpbnN0
ZWFkIG9mIExpbmsgdXAgZHVyaW5nIHN1c3BlbmQKPiAKPiBPbiBUaHUsIE5vdiAxMywgMjAyNSBh
dCAxMToyMjo1MEFNIC0wNjAwLCBCam9ybiBIZWxnYWFzIHdyb3RlOgo+ID4gT24gVGh1LCBOb3Yg
MTMsIDIwMjUgYXQgMTA6MjQ6MTdQTSArMDUzMCwgTWFuaXZhbm5hbiBTYWRoYXNpdmFtIHdyb3Rl
Ogo+ID4gPiBPbiBUaHUsIE5vdiAxMywgMjAyNSBhdCAxMDo0MTo0N0FNIC0wNjAwLCBCam9ybiBI
ZWxnYWFzIHdyb3RlOgo+ID4gPiA+IE9uIEZyaSwgTm92IDA3LCAyMDI1IGF0IDEwOjEzOjE4QU0g
KzA1MzAsIE1hbml2YW5uYW4gU2FkaGFzaXZhbSB3cm90ZToKPiA+ID4gPiA+IFRoZSBzdXNwZW5k
IGhhbmRsZXIgY2hlY2tzIGZvciB0aGUgUENJZSBMaW5rIHVwIHRvIGRlY2lkZSB3aGVuIHRvIHR1
cm4gb2ZmCj4gPiA+ID4gPiB0aGUgY29udHJvbGxlciByZXNvdXJjZXMuIEJ1dCB0aGlzIGNoZWNr
IGlzIHJhY3kgYXMgdGhlIFBDSWUgTGluayBjYW4gZ28KPiA+ID4gPiA+IGRvd24ganVzdCBhZnRl
ciB0aGlzIGNoZWNrLgo+ID4gPiA+ID4gCj4gPiA+ID4gPiBTbyB1c2UgdGhlIG5ld2x5IGludHJv
ZHVjZWQgQVBJLCBwY2lfcm9vdF9wb3J0c19oYXZlX2RldmljZSgpIHRoYXQgY2hlY2tzCj4gPiA+
ID4gPiBmb3IgdGhlIHByZXNlbmNlIG9mIGEgZGV2aWNlIHVuZGVyIGFueSBvZiB0aGUgUm9vdCBQ
b3J0cyB0byByZXBsYWNlIHRoZQo+ID4gPiA+ID4gTGluayB1cCBjaGVjay4KPiA+ID4gPiAKPiA+
ID4gPiBXaHkgaXMgcGNpX3Jvb3RfcG9ydHNfaGF2ZV9kZXZpY2UoKSBpdHNlbGYgbm90IHJhY3k/
Cj4gPiA+IAo+ID4gPiBCZWNhdXNlIGl0IGlzIHZlcnkgdW5jb21tb24gZm9yIHRoZSAncGNpX2Rl
dicgdG8gZ28gYXdheSBkdXJpbmcgdGhlCj4gPiA+IGhvc3QgY29udHJvbGxlciBzdXNwZW5kLiBJ
dCBtaWdodCBzdGlsbCBiZSBwb3NzaWJsZSBpbiBlZGdlIGNhc2VzLAo+ID4gPiBidXQgdmVyeSBj
b21tb24gYXMgdGhlIGxpbmsgZG93bi4gSSBjYW4gcmV3b3JkIGl0Lgo+ID4gCj4gPiBJIGd1ZXNz
IGl0J3MgYmV0dGVyIHRvIGFja25vd2xlZGdlIHJlcGxhY2luZyBvbmUgcmFjZSB3aXRoIGFub3Ro
ZXIKPiA+IHRoYW4gaXQgd291bGQgYmUgdG8gc3VnZ2VzdCB0aGF0IHRoaXMgKnJlbW92ZXMqIGEg
cmFjZS4KPiA+IAo+IAo+IE9rLgo+IAo+ID4gQnV0IEkgZG9uJ3QgdW5kZXJzdGFuZCB0aGUgcG9p
bnQgb2YgdGhpcy4gIElzCj4gPiBwY2lfcm9vdF9wb3J0c19oYXZlX2RldmljZSgpICpsZXNzKiBy
YWN5IHRoYW4gdGhlCj4gPiBxY29tX3BjaWVfc3VzcGVuZF9ub2lycSgpIGNoZWNrPyAgV2h5IHdv
dWxkIHRoYXQgYmU/Cj4gPiAKPiAKPiBUaGUgY2hlY2sgaXMgc3VwcG9zZWQgdG8gcGVyZm9ybSBk
ZWluaXQgb25seSBpZiB0aGVyZSBhcmUgbm8gZGV2aWNlcyBjb25uZWN0ZWQKPiB0byB0aGUgc2xv
dC4gQW5kIHRoZSByZWFzb24gdG8gc2tpcCB0aGUgZGVpbml0IHdhcyBtb3N0bHkgZHVlIHRvIGRy
aXZlciBiZWhhdmlvcgo+IGxpa2UgTlZNZSBkcml2ZXIsIHdoaWNoIGV4cGVjdHMgdGhlIGRldmlj
ZSB0byBiZSBpbiBEMCBldmVuIGR1cmluZyBzeXN0ZW0KPiBzdXNwZW5kIG9uIG5vbi14ODYgcGxh
dGZvcm1zLgo+IAo+IFNpbmNlIHRoZSBjaGVjayBpcyBmb3IgdGhlIGV4aXN0ZW5jZSBvZiB0aGUg
ZGV2aWNlIG5ldmVydGhlbGVzcywgSSB0aG91Z2h0LAo+IG1ha2luZyB1c2Ugb2YgcGNpX3Jvb3Rf
cG9ydHNfaGF2ZV9kZXZpY2UoKSBzZXJ2ZXMgdGhlIHB1cnBvc2UgaW5zdGVhZCBvZgo+IGNoZWNr
aW5nIHRoZSBkYXRhIGxpbmsgbGF5ZXIgc3RhdHVzLgo+IAo+ID4gSSdtIGtpbmQgb2Ygc2tlcHRp
Y2FsIGFib3V0IGFkZGluZyBwY2lfcm9vdF9wb3J0c19oYXZlX2RldmljZSgpIGF0Cj4gPiBhbGwu
ICBJdCBzZWVtcyBsaWtlIGl0IGp1c3QgZW5jb3VyYWdlcyByYWN5IGJlaGF2aW9yIGluIGRyaXZl
cnMuCj4gPiAKPiAKPiBJIGFncmVlIHRoYXQgdGhvdWdoIGl0IGlzIG5vdCB2ZXJ5IGNvbW1vbiwg
YnV0IHdpdGggYXN5bmMgc3VzcGVuZCwgaXQgaXMKPiBwb3NzaWJsZSB0aGF0ICdwY2lfZGV2JyBt
YXkgZ2V0IHJlbW92ZWQgZHVyaW5nIGNvbnRyb2xsZXIgc3VzcGVuZC4KPiAKPiBTbyBJJ3ZlIGRy
b3BwZWQgdGhpcyBzZXJpZXMgZnJvbSBjb250cm9sbGVyL2R3YyB1bnRpbCB3ZSBjb25jbHVkZS4K
PiAKCkhpLCBNYW5pCgpJIHNlZSB0aGF0IHRoaXMgc2VyaWVzIGZyb20gY29udHJvbGxlci9kd2Mg
aGFzIGJlZW4gdGVtcG9yYXJpbHkgcmVtb3ZlZC4gCkRvIEkgbmVlZCB0byB3YWl0IGZvciBhIGNv
bmNsdXNpb24gbGF0ZXIgYmVmb3JlIHN1Ym1pdHRpbmcgdGhlIGNvZGUsIG9yCmRvIEkgbmVlZCB0
byBjb250aW51ZSBzdWJtaXR0aW5nIHRoZSBwY2llIHY2IHBhdGNoIGJhc2VkIG9uIHRoZSBsYXRl
c3QgCjYuMTgtcmM2IGJyYW5jaD8KCktpbmQgcmVnYXJkcywKU2VuY2h1YW4gWmhhbmcKCj4gCj4g
PiA+ID4gPiBTaWduZWQtb2ZmLWJ5OiBNYW5pdmFubmFuIFNhZGhhc2l2YW0gPG1hbml2YW5uYW4u
c2FkaGFzaXZhbUBvc3MucXVhbGNvbW0uY29tPgo+ID4gPiA+ID4gLS0tCj4gPiA+ID4gPiAgZHJp
dmVycy9wY2kvY29udHJvbGxlci9kd2MvcGNpZS1xY29tLmMgfCA2ICsrKystLQo+ID4gPiA+ID4g
IDEgZmlsZSBjaGFuZ2VkLCA0IGluc2VydGlvbnMoKyksIDIgZGVsZXRpb25zKC0pCj4gPiA+ID4g
PiAKPiA+ID4gPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9wY2ll
LXFjb20uYyBiL2RyaXZlcnMvcGNpL2NvbnRyb2xsZXIvZHdjL3BjaWUtcWNvbS5jCj4gPiA+ID4g
PiBpbmRleCA4MDVlZGJiZmU3ZWIuLmIyYjg5ZTJlNDkxNiAxMDA2NDQKPiA+ID4gPiA+IC0tLSBh
L2RyaXZlcnMvcGNpL2NvbnRyb2xsZXIvZHdjL3BjaWUtcWNvbS5jCj4gPiA+ID4gPiArKysgYi9k
cml2ZXJzL3BjaS9jb250cm9sbGVyL2R3Yy9wY2llLXFjb20uYwo+ID4gPiA+ID4gQEAgLTIwMTgs
NiArMjAxOCw3IEBAIHN0YXRpYyBpbnQgcWNvbV9wY2llX3Byb2JlKHN0cnVjdCBwbGF0Zm9ybV9k
ZXZpY2UgKnBkZXYpCj4gPiA+ID4gPiAgc3RhdGljIGludCBxY29tX3BjaWVfc3VzcGVuZF9ub2ly
cShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gPiA+ID4gPiAgewo+ID4gPiA+ID4gIAlzdHJ1Y3QgcWNv
bV9wY2llICpwY2llOwo+ID4gPiA+ID4gKwlzdHJ1Y3QgZHdfcGNpZV9ycCAqcHA7Cj4gPiA+ID4g
PiAgCWludCByZXQgPSAwOwo+ID4gPiA+ID4gIAo+ID4gPiA+ID4gIAlwY2llID0gZGV2X2dldF9k
cnZkYXRhKGRldik7Cj4gPiA+ID4gPiBAQCAtMjA1Myw4ICsyMDU0LDkgQEAgc3RhdGljIGludCBx
Y29tX3BjaWVfc3VzcGVuZF9ub2lycShzdHJ1Y3QgZGV2aWNlICpkZXYpCj4gPiA+ID4gPiAgCSAq
IHBvd2VyZG93biBzdGF0ZS4gVGhpcyB3aWxsIGFmZmVjdCB0aGUgbGlmZXRpbWUgb2YgdGhlIHN0
b3JhZ2UgZGV2aWNlcwo+ID4gPiA+ID4gIAkgKiBsaWtlIE5WTWUuCj4gPiA+ID4gPiAgCSAqLwo+
ID4gPiA+ID4gLQlpZiAoIWR3X3BjaWVfbGlua191cChwY2llLT5wY2kpKSB7Cj4gPiA+ID4gPiAt
CQlxY29tX3BjaWVfaG9zdF9kZWluaXQoJnBjaWUtPnBjaS0+cHApOwo+ID4gPiA+ID4gKwlwcCA9
ICZwY2llLT5wY2ktPnBwOwo+ID4gPiA+ID4gKwlpZiAoIXBjaV9yb290X3BvcnRzX2hhdmVfZGV2
aWNlKHBwLT5icmlkZ2UtPmJ1cykpIHsKPiA+ID4gPiA+ICsJCXFjb21fcGNpZV9ob3N0X2RlaW5p
dChwcCk7Cj4gPiA+ID4gPiAgCQlwY2llLT5zdXNwZW5kZWQgPSB0cnVlOwo+ID4gPiA+ID4gIAl9
Cj4gPiA+ID4gPiAgCj4gPiA+ID4gPiAtLSAKPiA+ID4gPiA+IDIuNDguMQo+ID4gPiA+ID4gCj4g
PiA+IAo+ID4gPiAtLSAKCg==

