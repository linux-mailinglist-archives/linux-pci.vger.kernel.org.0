Return-Path: <linux-pci-owner@vger.kernel.org>
X-Original-To: lists+linux-pci@lfdr.de
Delivered-To: lists+linux-pci@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 0442414A0E2
	for <lists+linux-pci@lfdr.de>; Mon, 27 Jan 2020 10:33:41 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1729583AbgA0JdG (ORCPT <rfc822;lists+linux-pci@lfdr.de>);
        Mon, 27 Jan 2020 04:33:06 -0500
Received: from mx2.suse.de ([195.135.220.15]:38394 "EHLO mx2.suse.de"
        rhost-flags-OK-OK-OK-OK) by vger.kernel.org with ESMTP
        id S1729575AbgA0JdF (ORCPT <rfc822;linux-pci@vger.kernel.org>);
        Mon, 27 Jan 2020 04:33:05 -0500
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
        by mx2.suse.de (Postfix) with ESMTP id E97C8AE07;
        Mon, 27 Jan 2020 09:33:03 +0000 (UTC)
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset=UTF-8
In-Reply-To: <20200126200939.k3vcseaccp3buh4z@f53c9c00458a>
Date:   Mon, 27 Jan 2020 10:31:22 +0100
Cc:     <kbuild-all@lists.01.org>,
        "Lorenzo Pieralisi" <lorenzo.pieralisi@arm.com>,
        "Nicolas Saenz Julienne" <nsaenzjulienne@suse.de>,
        "Andrew Murray" <andrew.murray@arm.com>,
        "Jeremy Linton" <jeremy.linton@arm.com>,
        "Bjorn Helgaas" <helgaas@kernel.org>,
        "Florian Fainelli" <f.fainelli@gmail.com>,
        <bcm-kernel-feedback-list@broadcom.com>,
        <linux-pci@vger.kernel.org>, <linux-arm-kernel@lists.infradead.org>
Subject: Re: [PATCH] PCI: brcmstb: fix resource_size.cocci warnings
From:   "Nicolas Saenz Julienne" <nsaenzjulienne@suse.de>
To:     "kbuild test robot" <lkp@intel.com>,
        "Jim Quinlan" <james.quinlan@broadcom.com>
Message-Id: <C06GWEBMF4LE.2DU8RMRR4F9Q8@linux-9qgx>
Sender: linux-pci-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-pci.vger.kernel.org>
X-Mailing-List: linux-pci@vger.kernel.org

On Mon Jan 27, 2020 at 4:09 AM, kbuild test robot wrote:
> From: kbuild test robot <lkp@intel.com>
>
> drivers/pci/controller/pcie-brcmstb.c:552:13-16: ERROR: Missing
> resource_size with res
>
>
> Use resource_size function on resource object
> instead of explicit computation.
>
> Generated by: scripts/coccinelle/api/resource_size.cocci
>
> Fixes: 8ad90d975e00 ("PCI: brcmstb: Add Broadcom STB PCIe host
> controller driver")
> CC: Jim Quinlan <james.quinlan@broadcom.com>
> Signed-off-by: kbuild test robot <lkp@intel.com>
> ---

Reviewed-by: Nicolas Saenz Julienne <nsaenzjulienne@suse.de>

Regards,
Nicolas

>
> tree:
> https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git
> master
> head: 702ccea170f07783bd002055a353a0866c062267
> commit: 8ad90d975e00c297a198f6ecbd65e414fbb06dc9 [8319/11283] PCI:
> brcmstb: Add Broadcom STB PCIe host controller driver
>
> pcie-brcmstb.c | 2 +-
> 1 file changed, 1 insertion(+), 1 deletion(-)
>
> --- a/drivers/pci/controller/pcie-brcmstb.c
> +++ b/drivers/pci/controller/pcie-brcmstb.c
> @@ -549,7 +549,7 @@ static int brcm_pcie_setup(struct brcm_p
> =20
> brcm_pcie_set_outbound_win(pcie, num_out_wins, res->start,
> res->start - entry->offset,
> - res->end - res->start + 1);
> + resource_size(res));
> num_out_wins++;
> }
> =20

