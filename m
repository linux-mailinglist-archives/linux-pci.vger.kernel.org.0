Return-Path: <linux-pci-owner@vger.kernel.org>
X-Original-To: lists+linux-pci@lfdr.de
Delivered-To: lists+linux-pci@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id D307114051
	for <lists+linux-pci@lfdr.de>; Sun,  5 May 2019 16:41:07 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727994AbfEEOlG (ORCPT <rfc822;lists+linux-pci@lfdr.de>);
        Sun, 5 May 2019 10:41:06 -0400
Received: from mail-oln040092253063.outbound.protection.outlook.com ([40.92.253.63]:44951
        "EHLO APC01-SG2-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1727325AbfEEOlG (ORCPT <rfc822;linux-pci@vger.kernel.org>);
        Sun, 5 May 2019 10:41:06 -0400
Received: from HK2APC01FT045.eop-APC01.prod.protection.outlook.com
 (10.152.248.53) by HK2APC01HT118.eop-APC01.prod.protection.outlook.com
 (10.152.249.82) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id 15.20.1856.11; Sun, 5 May
 2019 14:40:59 +0000
Received: from PS2P216MB0642.KORP216.PROD.OUTLOOK.COM (10.152.248.52) by
 HK2APC01FT045.mail.protection.outlook.com (10.152.249.139) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.1856.11 via Frontend Transport; Sun, 5 May 2019 14:40:59 +0000
Received: from PS2P216MB0642.KORP216.PROD.OUTLOOK.COM
 ([fe80::adb3:4c16:60fd:65]) by PS2P216MB0642.KORP216.PROD.OUTLOOK.COM
 ([fe80::adb3:4c16:60fd:65%5]) with mapi id 15.20.1856.012; Sun, 5 May 2019
 14:40:59 +0000
From:   Nicholas Johnson <nicholas.johnson-opensource@outlook.com.au>
To:     "linux-kernel@vger.kernel.org" <linux-kernel@vger.kernel.org>
CC:     "linux-pci@vger.kernel.org" <linux-pci@vger.kernel.org>,
        "bhelgaas@google.com" <bhelgaas@google.com>,
        "mika.westerberg@linux.intel.com" <mika.westerberg@linux.intel.com>,
        "corbet@lwn.net" <corbet@lwn.net>,
        Nicholas Johnson <nicholas.johnson-opensource@outlook.com.au>
Subject: [PATCH v5 3/5] PCI: Fix bug resulting in double hpmemsize being
 assigned to MMIO window
Thread-Topic: [PATCH v5 3/5] PCI: Fix bug resulting in double hpmemsize being
 assigned to MMIO window
Thread-Index: AQHVA1COx3JcNUJoSEanByS+7CjcRA==
Date:   Sun, 5 May 2019 14:40:59 +0000
Message-ID: <PS2P216MB0642B987B825C938A09F457180370@PS2P216MB0642.KORP216.PROD.OUTLOOK.COM>
References: <20190505144001.8106-1-nicholas.johnson-opensource@outlook.com.au>
In-Reply-To: <20190505144001.8106-1-nicholas.johnson-opensource@outlook.com.au>
Accept-Language: en-AU, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: SG2PR01CA0116.apcprd01.prod.exchangelabs.com
 (2603:1096:4:40::20) To PS2P216MB0642.KORP216.PROD.OUTLOOK.COM
 (2603:1096:300:1c::16)
x-incomingtopheadermarker: OriginalChecksum:2E2A3860F1F43F59222599554FF91EF41F23724C0642FB833E7DC2F25C644241;UpperCasedChecksum:CE7B018451CCD8160BA41D2A6EAC7B6A9026D3A92D7FAAA1C07EA434C2A18193;SizeAsReceived:7927;Count:50
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.19.1
x-tmn:  [JrLzKi1TPd8u8ow6G+hcfPNVv7fZtlB6jqpHDpokqH9xwjwpiQ1DhLJen3Vlco3pUIspSf85+8E=]
x-microsoft-original-message-id: <20190505144001.8106-4-nicholas.johnson-opensource@outlook.com.au>
x-ms-publictraffictype: Email
x-incomingheadercount: 50
x-eopattributedmessage: 0
x-ms-exchange-slblob-mailprops: Xo9mRxKQURT0eY5pRcrZj21eed7UjhNvi7FE7Kc18pk46RO+8U82h2pOklhCLZE/UatxfLjARZByivZzUFsbn8xO7h5kiMXG8u0rdLULW1TUKV59HiV+lXVoWPfQSkN5ei7nAqYBRJqiyWibRaKljBaEHHwEqOUifQr4dH1ny3DJNHz1nk77I88FZs1AQAEIcnquFZp7F/8nAcQEtrxhZUHdOCgeigsk7nT1GUyqfUziwM3mP5ysk5z+ZG2/CJq+dW6t4e/pTadWuDpoVErENxWENYDiiXG5NTcymrO7P3+YmeSIYhgknukYjI45A2q8EZplZyRddllQ45Z5ZBoERagBQoM3hOccuTN80lV76xgIs1JTSrq/Qf9pC/86GE0JRjS0PiTQux31L6drydsirAtltz3PbCDyiGZ3x5N03ElNZ8ekmOR1F2gp94+KCR6O0zQP6RzGvDwe+P3IczkIbpXD36Zw1fx5QNxJtDaT1xk9tYmvJFxlNbj7/qTTdoBIEQjHIj+ILWC5gDGAUgBX28b8e4069wGkeRuYuvTArTJzjuYr01O2Yj/vOb3zu9EUkW8IPC+HQOekf9/AkLEofMhHN4HZbXyJiDlijFs6m86kV+CXy2cLsP6PFJK9HISjkJsm6hkaGc6xqI3faUQXC0Pw3dlHOWeGtHiMOiqaODAIap3/pjVA75nyMo5eEsWrPg26ra+qdlB4kSZTybGaUJ4dHjfVKDTqn7g4Q4Y4QmpIbcreeFMPhFEW4L5oNHESZW2Y0c0rav04TTqJX92zEij2g22BV8alzGnyQsbsGw/Kkdl7orL5UkwsQJsK5NtoNYXOjzOb4xFUGgS5+l9v8hPVjC1k9RI/7YAExXAkw81RVWnBa8RBscFJcHc4lyKudGGWZDdW/MY9ZF5viJi1IfJN6Kh+Mt5CogvPRDgWj1mgQU/jw8h+2Q==
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(5050001)(7020095)(20181119110)(201702061078)(5061506573)(5061507331)(1603103135)(2017031320274)(201702181274)(2017031323274)(2017031324274)(2017031322404)(1601125500)(1603101475)(1701031045);SRVR:HK2APC01HT118;
x-ms-traffictypediagnostic: HK2APC01HT118:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-message-info: dKA3UxGAHMILO7A0CTl9UrzbyIFl7xM4AWVCZQc7z6p7sEGESrtrEU85/2aGDsV5v10b/8UmqWFRxcC6ldJxBffBqZMBSEAYXo7lbRcbUIrMGdfEceIhZ8yDHnJPfccOkqBALILzOirtg1jcbgUp6kyicOApWpxtIAgWJZK3IfqDcfByFqrDBFeWfBaftj1C
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: outlook.com
X-MS-Exchange-CrossTenant-RMS-PersistedConsumerOrg: 00000000-0000-0000-0000-000000000000
X-MS-Exchange-CrossTenant-Network-Message-Id: 266becd2-9773-4a91-bba5-08d6d167b04f
X-MS-Exchange-CrossTenant-rms-persistedconsumerorg: 00000000-0000-0000-0000-000000000000
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 May 2019 14:40:59.2248
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Internet
X-MS-Exchange-CrossTenant-id: 84df9e7f-e9f6-40af-b435-aaaaaaaaaaaa
X-MS-Exchange-Transport-CrossTenantHeadersStamped: HK2APC01HT118
Sender: linux-pci-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-pci.vger.kernel.org>
X-Mailing-List: linux-pci@vger.kernel.org

QmFja2dyb3VuZA0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCg0KU29sdmUgYnVnIHJlcG9ydDoNCmh0dHBz
Oi8vYnVnemlsbGEua2VybmVsLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjAzMjQzDQoNCkN1cnJlbnRs
eSwgdGhlIGtlcm5lbCBjYW4gc29tZXRpbWVzIGFzc2lnbiB0aGUgTU1JT19QUkVGIHdpbmRvdw0K
YWRkaXRpb25hbCBzaXplIGludG8gdGhlIE1NSU8gd2luZG93LCByZXN1bHRpbmcgaW4gZG91Ymxl
IHRoZSBNTUlPDQphZGRpdGlvbmFsIHNpemUsIGV2ZW4gaWYgdGhlIE1NSU9fUFJFRiB3aW5kb3cg
d2FzIHN1Y2Nlc3NmdWwuDQoNClRoaXMgaGFwcGVucyBpZiBpbiB0aGUgZmlyc3QgcGFzcywgdGhl
IE1NSU9fUFJFRiBzdWNjZWVkcyBidXQgdGhlIE1NSU8NCmZhaWxzLiBJbiB0aGUgbmV4dCBwYXNz
LCBiZWNhdXNlIE1NSU9fUFJFRiBpcyBhbHJlYWR5IGFzc2lnbmVkLCB0aGUNCmF0dGVtcHQgdG8g
YXNzaWduIE1NSU9fUFJFRiByZXR1cm5zIGFuIGVycm9yIGNvZGUgaW5zdGVhZCBvZiBzdWNjZXNz
DQoobm90aGluZyBtb3JlIHRvIGRvLCBhbHJlYWR5IGFsbG9jYXRlZCkuDQoNCkV4YW1wbGUgb2Yg
cHJvYmxlbSAobW9yZSBjb250ZXh0IGNhbiBiZSBmb3VuZCBpbiB0aGUgYnVnIHJlcG9ydCBVUkwp
Og0KDQpNYWlubGluZSBrZXJuZWw6DQpwY2kgMDAwMDowNjowMS4wOiBCQVIgMTQ6IGFzc2lnbmVk
IFttZW0gMHg5MDEwMDAwMC0weGEwMGZmZmZmXSA9IDI1Nk0NCnBjaSAwMDAwOjA2OjA0LjA6IEJB
UiAxNDogYXNzaWduZWQgW21lbSAweGEwMjAwMDAwLTB4YjAxZmZmZmZdID0gMjU2TQ0KDQpQYXRj
aGVkIGtlcm5lbDoNCnBjaSAwMDAwOjA2OjAxLjA6IEJBUiAxNDogYXNzaWduZWQgW21lbSAweDkw
MTAwMDAwLTB4OTgwZmZmZmZdID0gMTI4TQ0KcGNpIDAwMDA6MDY6MDQuMDogQkFSIDE0OiBhc3Np
Z25lZCBbbWVtIDB4OTgyMDAwMDAtMHhhMDFmZmZmZl0gPSAxMjhNDQoNClRoaXMgd2FzIHVzaW5n
IHBjaT1yZWFsbG9jLGhwbWVtc2l6ZT0xMjhNLG5vY3JzIC0gb24gdGhlIHNhbWUgbWFjaGluZQ0K
d2l0aCB0aGUgc2FtZSBjb25maWd1cmF0aW9uLCB3aXRoIGEgVWJ1bnR1IG1haW5saW5lIGtlcm5l
bCBhbmQgYSBrZXJuZWwNCnBhdGNoZWQgd2l0aCB0aGlzIHBhdGNoIHNlcmllcy4NCg0KVGhpcyBw
YXRjaCBpcyB2aXRhbCBmb3IgdGhlIG5leHQgcGF0Y2ggaW4gdGhlIHNlcmllcy4gVGhlIG5leHQg
cGF0Y2gNCmFsbG93cyB0aGUgdXNlciB0byBzcGVjaWZ5IE1NSU8gYW5kIE1NSU9fUFJFRiBpbmRl
cGVuZGVudGx5LiBJZiB0aGUNCk1NSU9fUFJFRiBpcyBzZXQgdG8gYmUgdmVyeSBsYXJnZSwgdGhp
cyBidWcgd2lsbCBlbmQgdXAgbW9yZSB0aGFuDQpkb3VibGluZyB0aGUgTU1JTyBzaXplLiBUaGUg
YnVnIHJlc3VsdHMgaW4gdGhlIE1NSU9fUFJFRiBiZWluZyBhZGRlZCB0bw0KdGhlIE1NSU8gd2lu
ZG93LCB3aGljaCBtZWFucyBkb3VibGluZyBpZiBNTUlPX1BSRUYgc2l6ZSA9PSBNTUlPIHNpemUu
DQpXaXRoIGEgbGFyZ2UgTU1JT19QUkVGLCB3aXRob3V0IHRoaXMgcGF0Y2gsIHRoZSBNTUlPIHdp
bmRvdyB3aWxsIGxpa2VseQ0KZmFpbCB0byBiZSBhc3NpZ25lZCBhbHRvZ2V0aGVyIGR1ZSB0byBs
YWNrIG9mIDMyLWJpdCBhZGRyZXNzIHNwYWNlLg0KDQpQYXRjaCBub3Rlcw0KPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0NCg0KQ2hhbmdlIGZpbmRfZnJlZV9idXNfcmVzb3VyY2UoKSB0byBub3Qgc2tpcCBhc3Np
Z25lZCByZXNvdXJjZXMgd2l0aA0Kbm9uLW51bGwgcGFyZW50Lg0KDQpBZGQgY2hlY2tzIGluIHBi
dXNfc2l6ZV9pbygpIGFuZCBwYnVzX3NpemVfbWVtKCkgdG8gcmV0dXJuIHN1Y2Nlc3MgaWYNCnJl
c291cmNlIHJldHVybmVkIGZyb20gZmluZF9mcmVlX2J1c19yZXNvdXJjZSgpIGlzIGFscmVhZHkg
YWxsb2NhdGVkLg0KDQpUaGlzIGF2b2lkcyBwYnVzX3NpemVfaW8oKSBhbmQgcGJ1c19zaXplX21l
bSgpIHJldHVybmluZyBlcnJvciBjb2RlIHRvDQpfX3BjaV9idXNfc2l6ZV9icmlkZ2VzKCkgd2hl
biBhIHJlc291cmNlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBhc3NpZ25lZA0KaW4gYSBwcmV2aW91
cyBwYXNzLiBUaGlzIGZpeGVzIHRoZSBleGlzdGluZyBiZWhhdmlvdXIgd2hlcmUgc3BhY2UgZm9y
IGENCnJlc291cmNlIGNvdWxkIGJlIHJlc2VydmVkIG11bHRpcGxlIHRpbWVzIGluIGRpZmZlcmVu
dCBwYXJlbnQgYnJpZGdlDQp3aW5kb3dzLiBUaGlzIGFsc28gZ3JlYXRseSByZWR1Y2VzIHRoZSBu
dW1iZXIgb2YgZmFpbGVkIEJBUiBtZXNzYWdlcyBpbg0KZG1lc2cgd2hlbiBMaW51eCBhc3NpZ25z
IHJlc291cmNlcy4NCg0KU2lnbmVkLW9mZi1ieTogTmljaG9sYXMgSm9obnNvbiA8bmljaG9sYXMu
am9obnNvbi1vcGVuc291cmNlQG91dGxvb2suY29tLmF1Pg0KLS0tDQogZHJpdmVycy9wY2kvc2V0
dXAtYnVzLmMgfCAyOCArKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tDQogMSBmaWxlIGNoYW5n
ZWQsIDE5IGluc2VydGlvbnMoKyksIDkgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQgYS9kcml2
ZXJzL3BjaS9zZXR1cC1idXMuYyBiL2RyaXZlcnMvcGNpL3NldHVwLWJ1cy5jDQppbmRleCA1MjE0
ODE1YzcuLmU3MTI2Y2MwZSAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvcGNpL3NldHVwLWJ1cy5jDQor
KysgYi9kcml2ZXJzL3BjaS9zZXR1cC1idXMuYw0KQEAgLTc1MiwxMSArNzUyLDE3IEBAIHN0YXRp
YyB2b2lkIHBjaV9icmlkZ2VfY2hlY2tfcmFuZ2VzKHN0cnVjdCBwY2lfYnVzICpidXMpDQogCX0N
CiB9DQogDQotLyogSGVscGVyIGZ1bmN0aW9uIGZvciBzaXppbmcgcm91dGluZXM6IGZpbmQgZmly
c3QgYXZhaWxhYmxlDQotICAgYnVzIHJlc291cmNlIG9mIGEgZ2l2ZW4gdHlwZS4gTm90ZTogd2Ug
aW50ZW50aW9uYWxseSBza2lwDQotICAgdGhlIGJ1cyByZXNvdXJjZXMgd2hpY2ggaGF2ZSBhbHJl
YWR5IGJlZW4gYXNzaWduZWQgKHRoYXQgaXMsDQotICAgaGF2ZSBub24tTlVMTCBwYXJlbnQgcmVz
b3VyY2UpLiAqLw0KLXN0YXRpYyBzdHJ1Y3QgcmVzb3VyY2UgKmZpbmRfZnJlZV9idXNfcmVzb3Vy
Y2Uoc3RydWN0IHBjaV9idXMgKmJ1cywNCisvKg0KKyAqIEhlbHBlciBmdW5jdGlvbiBmb3Igc2l6
aW5nIHJvdXRpbmVzOiBmaW5kIGZpcnN0IGJ1cyByZXNvdXJjZSBvZiBhIGdpdmVuDQorICogdHlw
ZS4gTm90ZTogd2UgZG8gbm90IHNraXAgdGhlIGJ1cyByZXNvdXJjZXMgd2hpY2ggaGF2ZSBhbHJl
YWR5IGJlZW4NCisgKiBhc3NpZ25lZCAoci0+cGFyZW50ICE9IE5VTEwpLiBUaGlzIGlzIGJlY2F1
c2UgYSByZXNvdXJjZSB0aGF0IGlzIGFscmVhZHkNCisgKiBhc3NpZ25lZCAobm90aGluZyBtb3Jl
IHRvIGJlIGRvbmUpIHdpbGwgYmUgaW5kaXN0aW5ndWlzaGFibGUgZnJvbSBvbmUgdGhhdA0KKyAq
IGZhaWxlZCBkdWUgdG8gbGFjayBvZiBzcGFjZSBpZiB3ZSBza2lwIGFzc2lnbmVkIHJlc291cmNl
cy4gSWYgdGhlIGNhbGxlcg0KKyAqIGZ1bmN0aW9uIGNhbm5vdCB0ZWxsIHRoZSBkaWZmZXJlbmNl
IHRoZW4gaXQgbWlnaHQgdHJ5IHRvIHBsYWNlIHRoZQ0KKyAqIHJlc291cmNlcyBpbiBhIGRpZmZl
cmVudCB3aW5kb3csIGRvdWJsaW5nIHVwIG9uIHJlc291cmNlcyBvciBjYXVzaW5nDQorICogdW5m
b3Jlc2VlYWJsZSBpc3N1ZXMuDQorICovDQorc3RhdGljIHN0cnVjdCByZXNvdXJjZSAqZmluZF9i
dXNfcmVzb3VyY2Vfb2ZfdHlwZShzdHJ1Y3QgcGNpX2J1cyAqYnVzLA0KIAkJCSB1bnNpZ25lZCBs
b25nIHR5cGVfbWFzaywgdW5zaWduZWQgbG9uZyB0eXBlKQ0KIHsNCiAJaW50IGk7DQpAQCAtNzY1
LDcgKzc3MSw3IEBAIHN0YXRpYyBzdHJ1Y3QgcmVzb3VyY2UgKmZpbmRfZnJlZV9idXNfcmVzb3Vy
Y2Uoc3RydWN0IHBjaV9idXMgKmJ1cywNCiAJcGNpX2J1c19mb3JfZWFjaF9yZXNvdXJjZShidXMs
IHIsIGkpIHsNCiAJCWlmIChyID09ICZpb3BvcnRfcmVzb3VyY2UgfHwgciA9PSAmaW9tZW1fcmVz
b3VyY2UpDQogCQkJY29udGludWU7DQotCQlpZiAociAmJiAoci0+ZmxhZ3MgJiB0eXBlX21hc2sp
ID09IHR5cGUgJiYgIXItPnBhcmVudCkNCisJCWlmIChyICYmIChyLT5mbGFncyAmIHR5cGVfbWFz
aykgPT0gdHlwZSkNCiAJCQlyZXR1cm4gcjsNCiAJfQ0KIAlyZXR1cm4gTlVMTDsNCkBAIC04NjMs
MTQgKzg2OSwxNiBAQCBzdGF0aWMgdm9pZCBwYnVzX3NpemVfaW8oc3RydWN0IHBjaV9idXMgKmJ1
cywgcmVzb3VyY2Vfc2l6ZV90IG1pbl9zaXplLA0KIAkJcmVzb3VyY2Vfc2l6ZV90IGFkZF9zaXpl
LCBzdHJ1Y3QgbGlzdF9oZWFkICpyZWFsbG9jX2hlYWQpDQogew0KIAlzdHJ1Y3QgcGNpX2RldiAq
ZGV2Ow0KLQlzdHJ1Y3QgcmVzb3VyY2UgKmJfcmVzID0gZmluZF9mcmVlX2J1c19yZXNvdXJjZShi
dXMsIElPUkVTT1VSQ0VfSU8sDQotCQkJCQkJCUlPUkVTT1VSQ0VfSU8pOw0KKwlzdHJ1Y3QgcmVz
b3VyY2UgKmJfcmVzID0gZmluZF9idXNfcmVzb3VyY2Vfb2ZfdHlwZShidXMsIElPUkVTT1VSQ0Vf
SU8sDQorCQkJCQlJT1JFU09VUkNFX0lPKTsNCiAJcmVzb3VyY2Vfc2l6ZV90IHNpemUgPSAwLCBz
aXplMCA9IDAsIHNpemUxID0gMDsNCiAJcmVzb3VyY2Vfc2l6ZV90IGNoaWxkcmVuX2FkZF9zaXpl
ID0gMDsNCiAJcmVzb3VyY2Vfc2l6ZV90IG1pbl9hbGlnbiwgYWxpZ247DQogDQogCWlmICghYl9y
ZXMpDQogCQlyZXR1cm47DQorCWlmIChiX3Jlcy0+cGFyZW50KQ0KKwkJcmV0dXJuOw0KIA0KIAlt
aW5fYWxpZ24gPSB3aW5kb3dfYWxpZ25tZW50KGJ1cywgSU9SRVNPVVJDRV9JTyk7DQogCWxpc3Rf
Zm9yX2VhY2hfZW50cnkoZGV2LCAmYnVzLT5kZXZpY2VzLCBidXNfbGlzdCkgew0KQEAgLTk3NSw3
ICs5ODMsNyBAQCBzdGF0aWMgaW50IHBidXNfc2l6ZV9tZW0oc3RydWN0IHBjaV9idXMgKmJ1cywg
dW5zaWduZWQgbG9uZyBtYXNrLA0KIAlyZXNvdXJjZV9zaXplX3QgbWluX2FsaWduLCBhbGlnbiwg
c2l6ZSwgc2l6ZTAsIHNpemUxOw0KIAlyZXNvdXJjZV9zaXplX3QgYWxpZ25zWzE4XTsJLyogQWxp
Z25tZW50cyBmcm9tIDFNYiB0byAxMjhHYiAqLw0KIAlpbnQgb3JkZXIsIG1heF9vcmRlcjsNCi0J
c3RydWN0IHJlc291cmNlICpiX3JlcyA9IGZpbmRfZnJlZV9idXNfcmVzb3VyY2UoYnVzLA0KKwlz
dHJ1Y3QgcmVzb3VyY2UgKmJfcmVzID0gZmluZF9idXNfcmVzb3VyY2Vfb2ZfdHlwZShidXMsDQog
CQkJCQltYXNrIHwgSU9SRVNPVVJDRV9QUkVGRVRDSCwgdHlwZSk7DQogCXJlc291cmNlX3NpemVf
dCBjaGlsZHJlbl9hZGRfc2l6ZSA9IDA7DQogCXJlc291cmNlX3NpemVfdCBjaGlsZHJlbl9hZGRf
YWxpZ24gPSAwOw0KQEAgLTk4Myw2ICs5OTEsOCBAQCBzdGF0aWMgaW50IHBidXNfc2l6ZV9tZW0o
c3RydWN0IHBjaV9idXMgKmJ1cywgdW5zaWduZWQgbG9uZyBtYXNrLA0KIA0KIAlpZiAoIWJfcmVz
KQ0KIAkJcmV0dXJuIC1FTk9TUEM7DQorCWlmIChiX3Jlcy0+cGFyZW50KQ0KKwkJcmV0dXJuIDA7
DQogDQogCW1lbXNldChhbGlnbnMsIDAsIHNpemVvZihhbGlnbnMpKTsNCiAJbWF4X29yZGVyID0g
MDsNCi0tIA0KMi4xOS4xDQoNCg==
