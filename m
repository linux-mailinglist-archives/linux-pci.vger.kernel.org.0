Return-Path: <linux-pci+bounces-42108-lists+linux-pci=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-pci@lfdr.de
Delivered-To: lists+linux-pci@lfdr.de
Received: from sv.mirrors.kernel.org (sv.mirrors.kernel.org [139.178.88.99])
	by mail.lfdr.de (Postfix) with ESMTPS id 8000FC89B01
	for <lists+linux-pci@lfdr.de>; Wed, 26 Nov 2025 13:10:34 +0100 (CET)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sv.mirrors.kernel.org (Postfix) with ESMTPS id 5B4363A208C
	for <lists+linux-pci@lfdr.de>; Wed, 26 Nov 2025 12:08:18 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id C92CA26ED5F;
	Wed, 26 Nov 2025 12:08:15 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (1024-bit key) header.d=linux.alibaba.com header.i=@linux.alibaba.com header.b="cYKxlx+u"
X-Original-To: linux-pci@vger.kernel.org
Received: from out30-113.freemail.mail.aliyun.com (out30-113.freemail.mail.aliyun.com [115.124.30.113])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id DF0541A23B9
	for <linux-pci@vger.kernel.org>; Wed, 26 Nov 2025 12:08:11 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=115.124.30.113
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1764158895; cv=none; b=doDKUJeH9KJ/APE8YeOhGcXX6wshR7SWz8fW6b0CKNRrybhasS7jhpL0PW8Zm2NOIRriMgwXOCXbhjtfpgYzJM4PRZiiYr218VMJc3rNVMcZWthm/gHwI9gtqUTURGZDy2nL+6WrVAkqFeoApdAY5PKvNNneskygcBNMpudYTXA=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1764158895; c=relaxed/simple;
	bh=W/nbgj794npbTvKa4MFyW0tcBA+ofh7MZCvknOiKTyI=;
	h=Date:From:To:Cc:Message-ID:Subject:MIME-Version:References:
	 In-Reply-To:Content-Type; b=AHyDSM/kfrRWo5vdJmsobSUdOMZiWhDr0cWnZ3G7aLZcxP9z15RaKGXnQ6x8Hqc8WqBmCGhJAguF/M2DFpz03IfkeIjCeDE/7RHCwH0qwnkVWDFRRw3V663kp6D/FdcWJOnqysgQ+ZEnaS+JB1Dg5Z+anMg5dS5h7vSSkBs8csw=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=linux.alibaba.com; spf=pass smtp.mailfrom=linux.alibaba.com; dkim=pass (1024-bit key) header.d=linux.alibaba.com header.i=@linux.alibaba.com header.b=cYKxlx+u; arc=none smtp.client-ip=115.124.30.113
Authentication-Results: smtp.subspace.kernel.org; dmarc=pass (p=none dis=none) header.from=linux.alibaba.com
Authentication-Results: smtp.subspace.kernel.org; spf=pass smtp.mailfrom=linux.alibaba.com
DKIM-Signature:v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=linux.alibaba.com; s=default;
	t=1764158883; h=Date:From:To:Message-ID:Subject:MIME-Version:Content-Type;
	bh=W/nbgj794npbTvKa4MFyW0tcBA+ofh7MZCvknOiKTyI=;
	b=cYKxlx+uM+gYo99Lh20X3wZLJ8d+EVVk7faUB1m85xv/bB6Dxwvle3d3ggvleKzBi0bmRiJTFPsjSPZz2IfPyvvGajW536KoOpCJdkqpkeSrjy1CaJFqO/H+C+8UFvhmx5pAWd+HeJ90PlKP4cKAcYoQ1I88EoRrSrOdhvcEbfk=
X-Alimail-AntiSpam:AC=PASS;BC=-1|-1;BR=01201311R211e4;CH=green;DM=||false|;DS=||;FP=0|-1|-1|-1|0|-1|-1|-1;HT=maildocker-contentspam033037033178;MF=guanghuifeng@linux.alibaba.com;NM=1;PH=DW;RN=5;SR=0;TI=W4_0.2.3_v5ForWebDing_212079BE_1764158744769_o7001c3g;
Received: from WS-web (guanghuifeng@linux.alibaba.com[W4_0.2.3_v5ForWebDing_212079BE_1764158744769_o7001c3g] cluster:ay36) at Wed, 26 Nov 2025 20:08:03 +0800
Date: Wed, 26 Nov 2025 20:08:03 +0800
From: "guanghui.fgh" <guanghuifeng@linux.alibaba.com>
To: "=?UTF-8?B?SWxwbyBKw6RydmluZW4=?=" <ilpo.jarvinen@linux.intel.com>
Cc: "bhelgaas" <bhelgaas@google.com>,
  "linux-pci" <linux-pci@vger.kernel.org>,
  "kanie" <kanie@linux.alibaba.com>,
  "alikernel-developer" <alikernel-developer@linux.alibaba.com>
Reply-To: "guanghui.fgh" <guanghuifeng@linux.alibaba.com>
Message-ID: <aad7547b-5486-45af-88fe-8697fa288299.guanghuifeng@linux.alibaba.com>
Subject: =?UTF-8?B?UmU6IFtQQVRDSF0gUENJOiBGaXggUENJZSBTQlIgZGV2L2xpbmsgd2FpdCBlcnJvcg==?=
X-Mailer: [Alimail-Mailagent revision 372][W4_0.2.3][v5ForWebDing][Firefox]
Precedence: bulk
X-Mailing-List: linux-pci@vger.kernel.org
List-Id: <linux-pci.vger.kernel.org>
List-Subscribe: <mailto:linux-pci+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-pci+unsubscribe@vger.kernel.org>
MIME-Version: 1.0
x-aliyun-im-through: {"version":"v1.0"}
References: <20251124104502.777141-1-guanghuifeng@linux.alibaba.com>,<bcc2c523-ed9e-59a7-d6f1-b39f4b2e8e30@linux.intel.com>
x-aliyun-mail-creator: W4_0.2.3_v5ForWebDing_sgcTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NDsgcnY6MTQ1LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTQ1LjA=2N
In-Reply-To: <bcc2c523-ed9e-59a7-d6f1-b39f4b2e8e30@linux.intel.com>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: base64

MS4gRG9lcyB0aGlzIGFkZCByZWN1cnNpb24gd2l0aG91dCByZXN0b3JpbmcgY29uZmlnIHNwYWNl
IG9uIGVhY2ggbGV2ZWwgCmJlZm9yZSBzdGFydGluZyB0aGUgY2hpbGQgd2FpdD8KClllcwpUaGUg
Y3VycmVudCBpbXBsZW1lbnRhdGlvbiBkb2VzIG5vdCByZXF1aXJlIHJlc3RvcmluZyB0aGUgUENJ
ZSBkZXZpY2UgY29uZmlndXJhdGlvbiBzcGFjZS4KVGhlIHN0YXR1cyBpcyBkZXRlcm1pbmVkIGR1
cmluZyB0aGUgd2FpdGluZyBwcm9jZXNzLCBlaXRoZXIgYmFzZWQgb24gc29mdHdhcmUtcmVjb3Jk
ZWQgc3RhdHVzCm9yIG9uIHRoZSBkZXZpY2UncyBSTyBhbmQgSFdJTklUIHR5cGUgcmVnaXN0ZXJz
LgoKCgoKPiBXaGVuIGV4ZWN1dGluZyBhIFBDSWUgc2Vjb25kYXJ5IGJ1cyByZXNldCwgYWxsIGRv
d25zdHJlYW0gc3dpdGNoZXMgYW5kCj4gZW5kcG9pbnRzIHdpbGwgZ2VuZXJhdGUgcmVzZXQgZXZl
bnRzLiBTaW11bHRhbmVvdXNseSwgYWxsIFBDSWUgbGlua3MKPiB3aWxsIHVuZGVyZ28gcmV0cmFp
bmluZywgYW5kIGVhY2ggbGluayB3aWxsIGluZGVwZW5kZW50bHkgcmUtZXhlY3V0ZSB0aGUKPiBM
VFNTTSBzdGF0ZSBtYWNoaW5lIHRyYWluaW5nLiBUaGVyZWZvcmUsIGFmdGVyIGV4ZWN1dGluZyB0
aGUgU0JSLCBpdCBpcwo+IG5lY2Vzc2FyeSB0byB3YWl0IGZvciBhbGwgZG93bnN0cmVhbSBsaW5r
cyBhbmQgZGV2aWNlcyB0byBjb21wbGV0ZQo+IHJlY292ZXJ5LiBPdGhlcndpc2UsIGFmdGVyIHRo
ZSBTQlIgcmV0dXJucywgYWNjZXNzaW5nIGRldmljZXMgd2l0aCBzb21lCj4gbGlua3Mgb3IgZW5k
cG9pbnRzIG5vdCB5ZXQgZnVsbHkgcmVjb3ZlcmVkIG1heSByZXN1bHQgaW4gZHJpdmVyIGVycm9y
cywKPiBvciBldmVuIHRyaWdnZXIgZGV2aWNlIG9mZmxpbmUgaXNzdWVzLgo+IAo+IFNpZ25lZC1v
ZmYtYnk6IEd1YW5naHVpIEZlbmcgPGd1YW5naHVpZmVuZ0BsaW51eC5hbGliYWJhLmNvbT4KPiBT
aWduZWQtb2ZmLWJ5OiBHdWl4aW4gTGl1IDxrYW5pZUBsaW51eC5hbGliYWJhLmNvbT4KPiAtLS0K
PsKgIGRyaXZlcnMvcGNpL3BjaS5jIHwgMTEyICsrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrLS0tLS0tLS0KPsKgIDEgZmlsZSBjaGFuZ2VkLCA5NCBpbnNlcnRpb25zKCspLCAx
OCBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9wY2kvcGNpLmMgYi9kcml2
ZXJzL3BjaS9wY2kuYwo+IGluZGV4IGIxNGRkMDY0MDA2Yy4uOWNmMTNmZTY5ZDk0IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvcGNpL3BjaS5jCj4gKysrIGIvZHJpdmVycy9wY2kvcGNpLmMKPiBAQCAt
NDc4OCw5ICs0Nzg4LDc0IEBAIHN0YXRpYyBpbnQgcGNpX2J1c19tYXhfZDNjb2xkX2RlbGF5KGNv
bnN0IHN0cnVjdCBwY2lfYnVzICpidXMpCj4gwqAgcmV0dXJuIG1heChtaW5fZGVsYXksIG1heF9k
ZWxheSk7Cj7CoCB9Cj7CoCAKPiAraW50IF9fcGNpX2JyaWRnZV93YWl0X2Zvcl9zZWNvbmRhcnlf
YnVzKHN0cnVjdCBwY2lfZGV2ICosIHVuc2lnbmVkIGxvbmcsIGNoYXIgKik7Cj4gKwo+ICtzdGF0
aWMgaW50IHBjaV9kZXZfd2FpdF9jaGlsZChzdHJ1Y3QgcGNpX2RldiAqcGRldiwgdW5zaWduZWQg
bG9uZyBzdGFydF90LCBpbnQgdGltZW91dCwKPiArwqAgwqAgY2hhciAqcmVzZXRfdHlwZSkKPiAr
ewo+ICsgc3RydWN0IHBjaV9kZXYgKmNoaWxkLCAqKmRldiA9IE5VTEw7Cj4gKyBpbnQgY3QgPSAw
LCBpID0gMCwgcmV0ID0gMCwgbGVmdCA9IDE7Cj4gKyB1bnNpZ25lZCBsb25nIGRldl9zdGFydF90
Owo+ICsKPiArIGRvd25fcmVhZCgmcGNpX2J1c19zZW0pOwo+ICsKPiArIGxpc3RfZm9yX2VhY2hf
ZW50cnkoY2hpbGQsICZwZGV2LT5zdWJvcmRpbmF0ZS0+ZGV2aWNlcywgYnVzX2xpc3QpCj4gK8Kg
IGN0Kys7Cj4gKwo+ICsgaWYgKGN0KSB7Cj4gK8KgIGRldiA9IGt6YWxsb2Moc2l6ZW9mKHN0cnVj
dCBwY2lfZGV2ICopICogY3QsIEdGUF9LRVJORUwpOwo+ICsKPiArwqAgaWYoIWRldikgewo+ICsg
wqAgcGNpX2VycihwZGV2LCAiZGV2IG1lbSBhbGxvYyBlcnJcbiIpOwo+ICsgwqAgdXBfcmVhZCgm
cGNpX2J1c19zZW0pOwo+ICsgwqAgcmV0dXJuIC1FTk9NRU07Cj4gK8KgIH0KPiArCj4gK8KgIGxp
c3RfZm9yX2VhY2hfZW50cnkoY2hpbGQsICZwZGV2LT5zdWJvcmRpbmF0ZS0+ZGV2aWNlcywgYnVz
X2xpc3QpCj4gKyDCoCBkZXZbaSsrXSA9IHBjaV9kZXZfZ2V0KGNoaWxkKTsKPiArIH0KPiArCj4g
KyB1cF9yZWFkKCZwY2lfYnVzX3NlbSk7Cj4gKwo+ICsgZm9yIChpID0gMDsgaSA8IGN0OyArK2kp
IHsKPiArwqAgbGVmdCA9IDE7Cj4gKwo+ICtkZXZfd2FpdDoKPiArwqAgZGV2X3N0YXJ0X3QgPSBq
aWZmaWVzOwo+ICvCoCByZXQgPSBwY2lfZGV2X3dhaXQoZGV2W2ldLCByZXNldF90eXBlLCBsZWZ0
KTsKPiArwqAgdGltZW91dCAtPSBqaWZmaWVzX3RvX21zZWNzKGppZmZpZXMgLSBkZXZfc3RhcnRf
dCk7Cj4gKwo+ICvCoCBpZiAocmV0KSB7Cj4gKyDCoCBpZiAocGNpX2Rldl9pc19kaXNjb25uZWN0
ZWQoZGV2W2ldKSkKPiArwqAgwqAgY29udGludWU7Cj4gKwo+ICsgwqAgaWYgKHRpbWVvdXQgPD0g
MCkKPiArwqAgwqAgZ290byBlbmQ7Cj4gKwo+ICsgwqAgbGVmdCA8PD0gMTsKPiArIMKgIGxlZnQg
PSB0aW1lb3V0ID4gbGVmdCA/IGxlZnQgOiB0aW1lb3V0Owo+ICsgwqAgZ290byBkZXZfd2FpdDsK
PiArwqAgfQo+ICsgfQo+ICsKPiArIGZvciAoaSA9IDA7IGkgPCBjdDsgKytpKSB7Cj4gK8KgIHJl
dCA9IF9fcGNpX2JyaWRnZV93YWl0X2Zvcl9zZWNvbmRhcnlfYnVzKGRldltpXSwgc3RhcnRfdCwg
cmVzZXRfdHlwZSk7CgpEb2VzIHRoaXMgYWRkIHJlY3Vyc2lvbiB3aXRob3V0IHJlc3RvcmluZyBj
b25maWcgc3BhY2Ugb24gZWFjaCBsZXZlbCAKYmVmb3JlIHN0YXJ0aW5nIHRoZSBjaGlsZCB3YWl0
PwoKPiArwqAgaWYgKHJldCkKPiArIMKgIGJyZWFrOwo+ICsgfQo+ICsKPiArZW5kOgo+ICsgZm9y
IChpID0gMDsgaSA8IGN0OyArK2kpCj4gK8KgIHBjaV9kZXZfcHV0KGRldltpXSk7Cj4gKwo+ICsg
a2ZyZWUoZGV2KTsKPiArIHJldHVybiByZXQ7Cj4gK30KPiArCj7CoCAvKioKPiAtICogcGNpX2Jy
aWRnZV93YWl0X2Zvcl9zZWNvbmRhcnlfYnVzIC0gV2FpdCBmb3Igc2Vjb25kYXJ5IGJ1cyB0byBi
ZSBhY2Nlc3NpYmxlCj4gKyAqIF9fcGNpX2JyaWRnZV93YWl0X2Zvcl9zZWNvbmRhcnlfYnVzIC0g
V2FpdCBmb3Igc2Vjb25kYXJ5IGJ1cyB0byBiZSBhY2Nlc3NpYmxlCj4gwqAgKiBAZGV2OiBQQ0kg
YnJpZGdlCj4gKyAqIEBzdGFydF90OiB3YWl0IHN0YXJ0IGppZmZpZXMgdGltZQo+IMKgICogQHJl
c2V0X3R5cGU6IHJlc2V0IHR5cGUgaW4gaHVtYW4tcmVhZGFibGUgZm9ybQo+IMKgICoKPiDCoCAq
IEhhbmRsZSBuZWNlc3NhcnkgZGVsYXlzIGJlZm9yZSBhY2Nlc3MgdG8gdGhlIGRldmljZXMgb24g
dGhlIHNlY29uZGFyeQo+IEBAIC00ODA0LDEwICs0ODY5LDkgQEAgc3RhdGljIGludCBwY2lfYnVz
X21heF9kM2NvbGRfZGVsYXkoY29uc3Qgc3RydWN0IHBjaV9idXMgKmJ1cykKPiDCoCAqIFJldHVy
biAwIG9uIHN1Y2Nlc3Mgb3IgLUVOT1RUWSBpZiB0aGUgZmlyc3QgZGV2aWNlIG9uIHRoZSBzZWNv
bmRhcnkgYnVzCj4gwqAgKiBmYWlsZWQgdG8gYmVjb21lIGFjY2Vzc2libGUuCj4gwqAgKi8KPiAt
aW50IHBjaV9icmlkZ2Vfd2FpdF9mb3Jfc2Vjb25kYXJ5X2J1cyhzdHJ1Y3QgcGNpX2RldiAqZGV2
LCBjaGFyICpyZXNldF90eXBlKQo+ICtpbnQgX19wY2lfYnJpZGdlX3dhaXRfZm9yX3NlY29uZGFy
eV9idXMoc3RydWN0IHBjaV9kZXYgKmRldiwgdW5zaWduZWQgbG9uZyBzdGFydF90LCBjaGFyICpy
ZXNldF90eXBlKQo+wqAgewo+IC0gc3RydWN0IHBjaV9kZXYgKmNoaWxkIF9fZnJlZShwY2lfZGV2
X3B1dCkgPSBOVUxMOwo+IC0gaW50IGRlbGF5Owo+ICsgaW50IGRlbGF5LCBsZWZ0Owo+wqAgCj4g
wqAgaWYgKHBjaV9kZXZfaXNfZGlzY29ubmVjdGVkKGRldikpCj7CoCDCoCByZXR1cm4gMDsKPiBA
QCAtNDgzNSw4ICs0ODk5LDYgQEAgaW50IHBjaV9icmlkZ2Vfd2FpdF9mb3Jfc2Vjb25kYXJ5X2J1
cyhzdHJ1Y3QgcGNpX2RldiAqZGV2LCBjaGFyICpyZXNldF90eXBlKQo+wqAgwqAgcmV0dXJuIDA7
Cj4gwqAgfQo+wqAgCj4gLSBjaGlsZCA9IHBjaV9kZXZfZ2V0KGxpc3RfZmlyc3RfZW50cnkoJmRl
di0+c3Vib3JkaW5hdGUtPmRldmljZXMsCj4gLcKgIMKgIMKgIMKgIMKgIHN0cnVjdCBwY2lfZGV2
LCBidXNfbGlzdCkpOwo+IMKgIHVwX3JlYWQoJnBjaV9idXNfc2VtKTsKPsKgIAo+IMKgIC8qCj4g
QEAgLTQ4NDQsOCArNDkwNiwxMiBAQCBpbnQgcGNpX2JyaWRnZV93YWl0X2Zvcl9zZWNvbmRhcnlf
YnVzKHN0cnVjdCBwY2lfZGV2ICpkZXYsIGNoYXIgKnJlc2V0X3R5cGUpCj7CoCDCoCAqIGFjY2Vz
c2luZyB0aGUgZGV2aWNlIGFmdGVyIHJlc2V0ICh0aGF0IGlzIDEwMDAgbXMgKyAxMDAgbXMpLgo+
wqAgwqAgKi8KPiDCoCBpZiAoIXBjaV9pc19wY2llKGRldikpIHsKPiAtwqAgcGNpX2RiZyhkZXYs
ICJ3YWl0aW5nICVkIG1zIGZvciBzZWNvbmRhcnkgYnVzXG4iLCAxMDAwICsgZGVsYXkpOwo+IC3C
oCBtc2xlZXAoMTAwMCArIGRlbGF5KTsKPiArwqAgbGVmdCA9IDEwMDAgKyBkZWxheSAtIGppZmZp
ZXNfdG9fbXNlY3MoamlmZmllcyAtIHN0YXJ0X3QpOwo+ICvCoCBwY2lfZGJnKGRldiwgIndhaXRp
bmcgJWQgbXMgZm9yIHNlY29uZGFyeSBidXNcbiIsIGxlZnQgPiAwID8gbGVmdCA6IDApOwo+ICsK
PiArwqAgaWYgKGxlZnQgPiAwKQo+ICsgwqAgbXNsZWVwKGxlZnQpOwo+ICsKPsKgIMKgIHJldHVy
biAwOwo+IMKgIH0KPsKgIAo+IEBAIC00ODcwLDEwICs0OTM2LDE0IEBAIGludCBwY2lfYnJpZGdl
X3dhaXRfZm9yX3NlY29uZGFyeV9idXMoc3RydWN0IHBjaV9kZXYgKmRldiwgY2hhciAqcmVzZXRf
dHlwZSkKPiDCoCBpZiAocGNpZV9nZXRfc3BlZWRfY2FwKGRldikgPD0gUENJRV9TUEVFRF81XzBH
VCkgewo+wqAgwqAgdTE2IHN0YXR1czsKPsKgIAo+IC3CoCBwY2lfZGJnKGRldiwgIndhaXRpbmcg
JWQgbXMgZm9yIGRvd25zdHJlYW0gbGlua1xuIiwgZGVsYXkpOwo+IC3CoCBtc2xlZXAoZGVsYXkp
Owo+ICvCoCBsZWZ0ID0gZGVsYXkgLSBqaWZmaWVzX3RvX21zZWNzKGppZmZpZXMgLSBzdGFydF90
KTsKPiArwqAgcGNpX2RiZyhkZXYsICJ3YWl0aW5nICVkIG1zIGZvciBkb3duc3RyZWFtIGxpbmtc
biIsIGxlZnQgPiAwID8gbGVmdCA6IDApOwo+ICsKPiArwqAgaWYgKGxlZnQgPiAwKQo+ICsgwqAg
bXNsZWVwKGxlZnQpOwo+wqAgCj4gLcKgIGlmICghcGNpX2Rldl93YWl0KGNoaWxkLCByZXNldF90
eXBlLCBQQ0lfUkVTRVRfV0FJVCAtIGRlbGF5KSkKPiArwqAgbGVmdCA9IFBDSV9SRVNFVF9XQUlU
IC0gamlmZmllc190b19tc2VjcyhqaWZmaWVzIC0gc3RhcnRfdCk7Cj4gK8KgIGlmKCFwY2lfZGV2
X3dhaXRfY2hpbGQoZGV2LCBzdGFydF90LCBsZWZ0ID4gMCA/IGxlZnQgOiAwLCByZXNldF90eXBl
KSkKPiDCoCDCoCByZXR1cm4gMDsKPsKgIAo+wqAgwqAgLyoKPiBAQCAtNDg4OCwyMCArNDk1OCwy
NiBAQCBpbnQgcGNpX2JyaWRnZV93YWl0X2Zvcl9zZWNvbmRhcnlfYnVzKHN0cnVjdCBwY2lfZGV2
ICpkZXYsIGNoYXIgKnJlc2V0X3R5cGUpCj7CoCDCoCBpZiAoIShzdGF0dXMgJiBQQ0lfRVhQX0xO
S1NUQV9ETExMQSkpCj4gwqAgwqAgcmV0dXJuIC1FTk9UVFk7Cj7CoCAKPiAtwqAgcmV0dXJuIHBj
aV9kZXZfd2FpdChjaGlsZCwgcmVzZXRfdHlwZSwKPiAtwqAgwqAgwqAgwqAgUENJRV9SRVNFVF9S
RUFEWV9QT0xMX01TIC0gUENJX1JFU0VUX1dBSVQpOwo+ICvCoCBsZWZ0ID0gUENJRV9SRVNFVF9S
RUFEWV9QT0xMX01TIC0gamlmZmllc190b19tc2VjcyhqaWZmaWVzIC0gc3RhcnRfdCk7Cj4gK8Kg
IHJldHVybiBwY2lfZGV2X3dhaXRfY2hpbGQoZGV2LCBzdGFydF90LCBsZWZ0ID4gMCA/IGxlZnQg
OiAwLCByZXNldF90eXBlKTsKPiDCoCB9Cj7CoCAKPiAtIHBjaV9kYmcoZGV2LCAid2FpdGluZyAl
ZCBtcyBmb3IgZG93bnN0cmVhbSBsaW5rLCBhZnRlciBhY3RpdmF0aW9uXG4iLAo+IC3CoCBkZWxh
eSk7Cj4gLSBpZiAoIXBjaWVfd2FpdF9mb3JfbGlua19kZWxheShkZXYsIHRydWUsIGRlbGF5KSkg
ewo+ICsgbGVmdCA9IGRlbGF5IC0gamlmZmllc190b19tc2VjcyhqaWZmaWVzIC0gc3RhcnRfdCk7
Cj4gKyBwY2lfZGJnKGRldiwgIndhaXRpbmcgJWQgbXMgZm9yIGRvd25zdHJlYW0gbGluaywgYWZ0
ZXIgYWN0aXZhdGlvblxuIiwgbGVmdCA+IDAgPyBsZWZ0IDogMCk7Cj4gKwo+ICsgaWYgKCFwY2ll
X3dhaXRfZm9yX2xpbmtfZGVsYXkoZGV2LCB0cnVlLCBsZWZ0ID4gMCA/IGxlZnQgOiAwKSkgewo+
wqAgwqAgLyogRGlkIG5vdCB0cmFpbiwgbm8gbmVlZCB0byB3YWl0IGFueSBmdXJ0aGVyICovCj7C
oCDCoCBwY2lfaW5mbyhkZXYsICJEYXRhIExpbmsgTGF5ZXIgTGluayBBY3RpdmUgbm90IHNldCBp
biAlZCBtc2VjXG4iLCBkZWxheSk7Cj7CoCDCoCByZXR1cm4gLUVOT1RUWTsKPiDCoCB9Cj7CoCAK
PiAtIHJldHVybiBwY2lfZGV2X3dhaXQoY2hpbGQsIHJlc2V0X3R5cGUsCj4gLSDCoCDCoCDCoCBQ
Q0lFX1JFU0VUX1JFQURZX1BPTExfTVMgLSBkZWxheSk7Cj4gKyBsZWZ0ID0gUENJRV9SRVNFVF9S
RUFEWV9QT0xMX01TIC0gamlmZmllc190b19tc2VjcyhqaWZmaWVzIC0gc3RhcnRfdCk7Cj4gKyBy
ZXR1cm4gcGNpX2Rldl93YWl0X2NoaWxkKGRldiwgc3RhcnRfdCwgbGVmdCA+IDAgPyBsZWZ0IDog
MCwgcmVzZXRfdHlwZSk7Cj4gK30KPiArCj4gK2ludCBwY2lfYnJpZGdlX3dhaXRfZm9yX3NlY29u
ZGFyeV9idXMoc3RydWN0IHBjaV9kZXYgKmRldiwgY2hhciAqcmVzZXRfdHlwZSkKPiArewo+ICsg
cmV0dXJuIF9fcGNpX2JyaWRnZV93YWl0X2Zvcl9zZWNvbmRhcnlfYnVzKGRldiwgamlmZmllcywg
cmVzZXRfdHlwZSk7Cj7CoCB9Cj7CoCAKPsKgIHZvaWQgcGNpX3Jlc2V0X3NlY29uZGFyeV9idXMo
c3RydWN0IHBjaV9kZXYgKmRldikKPiAKCi0tIAogaS4K

